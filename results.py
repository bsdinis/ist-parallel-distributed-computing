#!/usr/bin/env python3

serial = 33.0

approach = {
    'worst': { 1: [38.7,47.8,33.4,33.0,33.2], 2: [19.5,19.5,19.6,19.5,19.5], 4: [13.1,13.1,13.0,13.2,13.1], 5: [13.6,13.6,13.9,13.6,13.5], 8: [15.3,15.3,14.6,14.6,14.7], },
    'only': { 1: [33.0,33.0,33.0,33.2,33.2], 2: [19.8,19.7,19.7,19.7,19.7], 4: [13.1,13.1,13.2,13.2,13.1], 5: [13.3,13.3,13.3,13.3,13.3], 8: [13.3,13.3,13.2,13.3,13.3],},
    'ours': { 1: [33.0,32.9,33.1,32.9,33.0], 2: [19.6,19.5,19.6,19.5,19.6], 4: [13.2,12.9,12.9,13.1,13.1], 5: [13.1,13.1,13.2,13.2,13.1], 8: [13.1,13.2,13.1,13.3,13.1],},
}

def avg(l): return sum(l)/len(l)

bench = {
    '20 1000000 0': { 1: [3.3, 3.3, 3.3], 2: [2.2, 2.2, 2.2], 4: [1.5, 1.5, 1.5], 5: [1.5, 1.5, 1.5], 8: [1.5, 1.5, 1.5], },
    '3 5000000 0': { 1: [5.6, 5.6, 5.6], 2: [3.4, 3.5, 3.4], 4: [2.3, 2.3, 2.3], 5: [2.3, 2.3, 2.3], 8: [2.3, 2.3, 2.3], },
    '4 10000000 0': { 1: [15.1, 15.1, 15.2], 2: [9.2, 9.3, 9.2], 4: [6.2, 6.2, 6.2], 5: [6.2, 6.2, 6.2], 8: [6.2, 6.3, 6.2], },
    '3 20000000 0': { 1: [27.7, 27.5, 27.6], 2: [14.5, 14.8, 14.5], 4: [9.6, 9.4, 9.5], 5: [9.5, 10.7, 9.2], 8: [10.1, 9.8, 9.5], },
    '4 20000000 0': { 1: [31.5, 31.0, 30.7], 2: [20.5, 20.3, 20.4], 4: [13.2, 13.2, 13.3], 5: [13.5, 13.5, 13.8], 8: [15.0, 15.2, 13.3], },
}


for a in ['ours', 'only', 'worst']:
    with open('{}.dat'.format(a), 'w') as f:
        for idx in [1, 2, 4, 5, 8]:
            print('{0} {2} {1}'.format(idx, avg(approach[a][idx]), serial/avg(approach[a][idx])), file=f)

for k in bench:
    with open('{}.dat'.format(k.replace(' ', '_')), 'w') as f:
        for idx in [1, 2, 4, 5, 8]:
            print('{0} {2} {1}'.format(idx, avg(bench[k][idx]), avg(bench[k][1])/avg(bench[k][idx])), file=f)
